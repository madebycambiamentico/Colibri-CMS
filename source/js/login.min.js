$(function(){function n(n){var e=$("#my-name").val().trim();if(""==e)return alert("Inserire il nome!"),!1;var o=$("#my-password").val().trim();if(o.length<4)return alert("La password è troppo corta!"),!1;var r=new jsSHA("SHA-512","TEXT");return r.update(o),$("#my-hashed-pass").val(r.getHash("HEX")),$.isFunction(n)&&n(),!0}function e(){return o?(alert("Login già in corso, attendi."),!1):(o=!0,$loader=$("#loader").removeClass("done"),void(n(function(){$.post("database/login.php",$("#my-login").serialize(),null,"json").success(function(n){n.error!==!1?(alert("ERRORE\n"+n.error),$loader.addClass("done"),o=!1):location.assign("./bacheca?logged")}).error(function(n){alert("Ooops!"),$loader.addClass("done"),o=!1,console.log(n)})})||(o=!1,$loader.addClass("done"))))}var o=!1;$(function(){$("#my-login").submit(function(n){n.preventDefault()}),$("#my-login input").keypress(function(n){return 13==n.which?(e(),!1):void 0}),$("#send-me").click(e)})})();