function checkform(o){var e=$("#my-name").val().trim();if(""==e)return alert("Inserire il nome!"),!1;var n=$("#my-password").val().trim();if(n.length<4)return alert("La password è troppo corta!"),!1;var r=new jsSHA("SHA-512","TEXT");return r.update(n),$("#my-hashed-pass").val(r.getHash("HEX")),$.isFunction(o)&&o(),!0}function log(){return LOGGING?(alert("Login già in corso, attendi."),!1):(LOGGING=!0,$loader=$("#loader").removeClass("done"),void(checkform(function(){$.post("database/login.php",$("#my-login").serialize(),null,"json").success(function(o){o.error!==!1?(alert("ERRORE\n"+o.error),$loader.addClass("done"),LOGGING=!1):location.assign("./bacheca?logged")}).error(function(o){alert("Ooops!"),$loader.addClass("done"),LOGGING=!1,console.log(o)})})||(LOGGING=!1,$loader.addClass("done"))))}var LOGGING=!1;$(function(){$("#my-login").submit(function(o){o.preventDefault()}),$("#my-login input").keypress(function(o){return 13==o.which?(log(),!1):void 0}),$("#send-me").click(log)});