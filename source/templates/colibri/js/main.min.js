/**
 * @author: nereo costacurta
 *
 * @project: colibrì template | madebycambiamentico
 * @description: menu, css3 support, send mail with recaptcha 2.
 *
 * @require: [jquery.js >= 1.11.3]
 *
 * @license: GPLv3
 * @copyright: (C)2016 nereo costacurta
**/
"console"in window||(console={log:function(e){alert(e)}}),$(function(){function e(e){return e&&alert(e),i=!1,!1}var a=0;$("#menus i").click(function(){var e=$(this).data("id"),i=$("#menu-"+e);a==e?i.toggleClass("open"):($("#menu-"+a).removeClass("open"),i.addClass("open"),a=e)});var i=!1;$("#contactform form").submit(function(a){if(a.preventDefault(),i)return!1;i=!0;var o=this,n=o.email.value.trim(),r=(o.subject.value.trim(),o.phone.value.trim()),t=o.message.value.trim();return t?n||r?!n||/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i.test(n)||confirm("L'email immessa non sembra essere valida, continuare lo stesso?")?void $.post($(o).data("action"),$(o).serialize(),null,"json").success(function(e){return 0!=e.error?("undefined"!=typeof grecaptcha&&grecaptcha.reset(),alert("ERRORE:\n"+e.error)):(o.reset(),void alert("Il messaggio è stato spedito.\nGrazie! :)"))}).error(function(e){console.log(e),alert("Oooops! Non siamo riusciti a spedire il messaggio... prova più tardi.")}).always(function(){i=!1}):e():e("E' necessario riempire almeno uno di questi campi:\n- telefono\n- email"):e("Scrivi il messaggio prima di inviare la mail!")})});